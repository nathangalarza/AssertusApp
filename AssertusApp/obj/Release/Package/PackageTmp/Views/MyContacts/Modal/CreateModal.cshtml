
@model AssertusApp.Models.DB.Contact



<div class="modal-body">

    <div id="targetId">


        @using (Html.BeginForm("Create", "MyContacts", FormMethod.Post, new { id = "form-createcontact", @class = "full-form" }))
        {
            @Html.AntiForgeryToken()
            <div class="form-group">
                @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                <div class="form-group">
                    @Html.LabelFor(model => model.Name, htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @Html.EditorFor(model => model.Name, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.Name, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.Phone, htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @Html.EditorFor(model => model.Phone, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.Phone, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.Fax, htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @Html.EditorFor(model => model.Fax, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.Fax, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.eMail, htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @Html.EditorFor(model => model.eMail, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.eMail, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.Notes, htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @Html.TextAreaFor(model => model.Notes, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.Notes, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
                    <button id="AddContact" type="submit" class="btn btn-primary" data-save="modal">Create</button>

                </div>


            </div>

        }
    </div>
    </div>
  
@section scripts
{
    <script>
        $(document).ready(function () {

        

            //$("#AddContact").on("submit", "#form-accountprofileedit", function (e) {
            //    e.preventDefault();  // prevent standard form submission

            //    var form = $(this);
            //    $.ajax({
            //        url: form.attr("action"),
            //        method: form.attr("post"),  // post
            //        data: form.serialize(),
            //        success: function (partialResult) {
            //            $("#targetId").html(partialResult);
            //        }
            //    });
            //});


        });
        function onChangeSuccess(data) {

            if (data.status === "success") {
                $("#modalcontent").modal('hide');
                $("#message-area").html(data.view);
                alert("Contact Created");
            }

            $.each(data.formErrors, function () {
                console.log(data);
                //$("[data-valmsg-for=" + this.key + "]").html(this.errors.join());
            });


        }

    </script>
}